<blocks app="Snap! 4.1, http://snap.berkeley.edu" version="1"><block-definition s="rectangle pt: %&apos;p1&apos; pt: %&apos;p3&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doDeclareVariables"><list><l>p2</l><l>p4</l><l>width</l></list></block><block s="doSetVar"><l>width</l><block s="reportDifference"><custom-block s="x %s"><block var="p3"/></custom-block><custom-block s="x %s"><block var="p1"/></custom-block></block></block><block s="doSetVar"><l>p2</l><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><block var="width"/><l>0</l></custom-block><block var="p1"/></custom-block></block><block s="doSetVar"><l>p4</l><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><custom-block s="- %s"><block var="width"/></custom-block><l>0</l></custom-block><block var="p3"/></custom-block></block><block s="doReport"><custom-block s="polygon %mult%s"><list><block var="p1"/><block var="p2"/><block var="p3"/><block var="p4"/></list></custom-block></block></script></block-definition><block-definition s="vector %&apos;p1&apos; %&apos;p2&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:vecteur _ _&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><l>vector</l><block var="p1"/><block var="p2"/></list></block></block></script></block-definition><block-definition s="point %&apos;x&apos; %&apos;y&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><l>pt</l><block var="x"/><block var="y"/></list></block></block></script></block-definition><block-definition s="draw %&apos;object&apos;" type="command" category="pen"><header></header><code></code><translations>fr:dessiner _&#xD;</translations><inputs><input type="%s"></input></inputs><script><custom-block s="let %upvar = %s %cs"><l>type</l><custom-block s="type %s"><block var="object"/></custom-block><script><block s="doIfElse"><block s="reportEquals"><block var="type"/><l>pt</l></block><script><custom-block s="draw X %s %n"><block var="object"/><l>2</l></custom-block></script><script><block s="doIfElse"><block s="reportEquals"><block var="type"/><l>vector</l></block><script><custom-block s="go to pt: %s"><custom-block s="start %s"><block var="object"/></custom-block></custom-block><block s="down"></block><custom-block s="go to pt: %s"><custom-block s="end %s"><block var="object"/></custom-block></custom-block><block s="up"></block></script><script><custom-block s="for each %upvar of %l %cs"><l>component</l><block s="reportCDR"><block var="object"/></block><script><custom-block s="draw %s"><block var="component"/></custom-block></script></custom-block></script></block></script></block></script></custom-block></script></block-definition><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="let %&apos;var&apos; = %&apos;value&apos; %&apos;body&apos;" type="command" category="control"><header></header><code></code><translations>fr:soit _ = _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%s"></input><input type="%cs"></input></inputs><script><block s="doSetVar"><l>var</l><block var="value"/></block><block s="doRun"><block var="body"/><list></list></block></script></block-definition><block-definition s="type %&apos;objet&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="first of %l"><block var="objet"/></custom-block></block></script></block-definition><block-definition s="position" type="reporter" category="motion"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="point %s %s"><block s="xPosition"></block><block s="yPosition"></block></custom-block></block></script></block-definition><block-definition s="draw X %&apos;pt&apos; %&apos;size&apos;" type="command" category="pen"><header></header><code></code><translations>fr:dessiner X _ _&#xD;</translations><inputs><input type="%s"></input><input type="%n"></input></inputs><script><custom-block s="draw %s"><custom-block s="vector %s %s"><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><custom-block s="- %s"><block var="size"/></custom-block><block var="size"/></custom-block><block var="pt"/></custom-block><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><block var="size"/><custom-block s="- %s"><block var="size"/></custom-block></custom-block><block var="pt"/></custom-block></custom-block></custom-block><custom-block s="draw %s"><custom-block s="vector %s %s"><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><custom-block s="- %s"><block var="size"/></custom-block><custom-block s="- %s"><block var="size"/></custom-block></custom-block><block var="pt"/></custom-block><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><block var="size"/><block var="size"/></custom-block><block var="pt"/></custom-block></custom-block></custom-block></script></block-definition><block-definition s="- %&apos;n&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportDifference"><l>0</l><block var="n"/></block></block></script></block-definition><block-definition s="square %&apos;pt&apos; %&apos;size&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:carré _ _&#xD;</translations><inputs><input type="%s"></input><input type="%n"></input></inputs><script><block s="doReport"><custom-block s="rectangle pt: %s pt: %s"><block var="pt"/><custom-block s="apply %repRing to %s"><custom-block s="translation %n %n"><block var="size"/><block var="size"/></custom-block><block var="pt"/></custom-block></custom-block></block></script></block-definition><block-definition s="x %&apos;pt&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="pt"/></block></block></script></block-definition><block-definition s="y %&apos;pt&apos;" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>3</l><block var="pt"/></block></block></script></block-definition><block-definition s="apply %&apos;transformation&apos; to %&apos;object&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:appliquer _ à _&#xD;</translations><inputs><input type="%repRing"></input><input type="%s"></input></inputs><script><custom-block s="let %upvar = %s %cs"><l>type</l><custom-block s="type %s"><block var="object"/></custom-block><script><block s="doIfElse"><block s="reportEquals"><block var="type"/><l>pt</l></block><script><block s="doReport"><block s="evaluate"><block var="transformation"/><list><block var="object"/></list></block></block></script><script><block s="doIfElse"><block s="reportEquals"><block var="type"/><l>vector</l></block><script><block s="doReport"><custom-block s="vector %s %s"><block s="evaluate"><block var="transformation"/><list><custom-block s="start %s"><block var="object"/></custom-block></list></block><block s="evaluate"><block var="transformation"/><list><custom-block s="end %s"><block var="object"/></custom-block></list></block></custom-block></block></script><script><block s="doReport"><custom-block s="group %mult%s"><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><custom-block s="apply %repRing to %s"><block var="transformation"/><l></l></custom-block></autolambda><list></list></block><list><block s="reportCDR"><block var="object"/></block></list></custom-block></custom-block></block></script></block></script></block></script></custom-block></script></block-definition><block-definition s="reverse %&apos;data&apos;" type="reporter" category="lists"><comment x="0" y="0" w="223" collapsed="false">Reports a new list containing the items of the input list, but in the opposite order.</comment><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>helper</l></list></block><block s="doSetVar"><l>helper</l><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="input"/><block s="reportNewList"><list></list></block></block><script><block s="doReport"><block var="result"/></block></script></block><block s="doReport"><block s="evaluate"><block var="helper"/><list><block s="reportCDR"><block var="input"/></block><block s="reportCONS"><block s="reportListItem"><l>1</l><block var="input"/></block><block var="result"/></block></list></block></block></script><list><l>input</l><l>result</l></list></block></block><block s="doWarp"><script><block s="doReport"><block s="evaluate"><block var="helper"/><list><block var="data"/><block s="reportNewList"><list></list></block></list></block></block></script></block></script></block-definition><block-definition s="%&apos;#&apos; map %&apos;function&apos; over %&apos;lists&apos;" type="reporter" category="lists"><header></header><code></code><translations></translations><inputs><input type="%upvar"></input><input type="%repRing"></input><input type="%mult%l"></input></inputs><script><block s="doWarp"><script><block s="doDeclareVariables"><list><l>mapone</l><l>mapmany</l></list></block><block s="doSetVar"><l>mapone</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="evaluate"><block var="mapone"/><list><block s="reportCDR"><block var="data"/></block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data</l><l>count</l></list></block></block><block s="doSetVar"><l>mapmany</l><block s="reifyScript"><script><block s="doIf"><custom-block s="empty? %l"><block s="reportListItem"><l>1</l><block var="data lists"/></block></custom-block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>#</l><block var="count"/></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="function"/><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportListItem"><l>1</l><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block></block><block s="evaluate"><block var="mapmany"/><list><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><block s="reportCDR"><l/></block></autolambda><list></list></block><list><block var="data lists"/></list></custom-block><block s="reportSum"><block var="count"/><l>1</l></block></list></block></block></block></script><list><l>data lists</l><l>count</l></list></block></block><block s="doIfElse"><custom-block s="empty? %l"><block s="reportCDR"><block var="lists"/></block></custom-block><script><block s="doReport"><block s="evaluate"><block var="mapone"/><list><block s="reportListItem"><l>1</l><block var="lists"/></block><l>1</l></list></block></block></script><script><block s="doReport"><block s="evaluate"><block var="mapmany"/><list><block var="lists"/><l>1</l></list></block></block></script></block></script></block></script></block-definition><block-definition s="first of %&apos;list&apos;" type="reporter" category="lists"><header></header><code></code><translations>fr:premier de _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="list"/></block></block></script></block-definition><block-definition s="go to pt: %&apos;pt&apos;" type="command" category="motion"><header></header><code></code><translations>fr:aller à pt: _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="gotoXY"><custom-block s="x %s"><block var="pt"/></custom-block><custom-block s="y %s"><block var="pt"/></custom-block></block></script></block-definition><block-definition s="polygon %&apos;points&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:polygone _&#xD;</translations><inputs><input type="%mult%s"></input></inputs><script><block s="doReport"><custom-block s="group %mult%s"><custom-block s="%upvar map %repRing over %mult%l"><l>#</l><block s="reifyReporter"><autolambda><custom-block s="vector %s %s"><block s="reportListItem"><block var="#"/><block var="points"/></block><custom-block s="cyclic next after %n in %l"><block var="#"/><block var="points"/></custom-block></custom-block></autolambda><list></list></block><list><block var="points"/></list></custom-block></custom-block></block></script></block-definition><block-definition s="cyclic next after %&apos;index&apos; in %&apos;list&apos;" type="reporter" category="lists"><header></header><code></code><translations>fr:prochain cyclique après _ dans _&#xD;</translations><inputs><input type="%n"></input><input type="%l"></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="index"/><block s="reportListLength"><block var="list"/></block></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="list"/></block></block></script><script><block s="doReport"><block s="reportListItem"><block s="reportSum"><block var="index"/><l>1</l></block><block var="list"/></block></block></script></block></script></block-definition><block-definition s="middle %&apos;trait&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:milieu _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="point %s %s"><block s="reportQuotient"><block s="reportSum"><custom-block s="x %s"><custom-block s="start %s"><block var="trait"/></custom-block></custom-block><custom-block s="x %s"><custom-block s="end %s"><block var="trait"/></custom-block></custom-block></block><l>2</l></block><block s="reportQuotient"><block s="reportSum"><custom-block s="y %s"><custom-block s="start %s"><block var="trait"/></custom-block></custom-block><custom-block s="y %s"><custom-block s="end %s"><block var="trait"/></custom-block></custom-block></block><l>2</l></block></custom-block></block></script></block-definition><block-definition s="start %&apos;vector&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:début _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="vector"/></block></block></script></block-definition><block-definition s="end %&apos;vector&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:fin _&#xD;</translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="reportListItem"><l>3</l><block var="vector"/></block></block></script></block-definition><block-definition s="group %&apos;objects&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:groupe _&#xD;</translations><inputs><input type="%mult%s"></input></inputs><script><block s="doReport"><block s="reportCONS"><l>group</l><block var="objects"/></block></block></script></block-definition><block-definition s="translation %&apos;x&apos; %&apos;y&apos;" type="reporter" category="motion"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input></inputs><script><block s="doReport"><block s="reifyReporter"><autolambda><custom-block s="point %s %s"><block s="reportSum"><custom-block s="x %s"><block var="pt"/></custom-block><block var="x"/></block><block s="reportSum"><custom-block s="y %s"><block var="pt"/></custom-block><block var="y"/></block></custom-block></autolambda><list><l>pt</l></list></block></block></script></block-definition><block-definition s="composition $arrowRight %&apos;transformations&apos;" type="reporter" category="operators"><comment w="90" collapsed="false">Compose several transformations, by applying the first, then the second, etc...</comment><header></header><code></code><translations></translations><inputs><input type="%mult%s"></input></inputs><script><block s="doReport"><custom-block s="composition $arrowLeft %mult%s"><custom-block s="reverse %l"><block var="transformations"/></custom-block></custom-block></block></script></block-definition><block-definition s="composition $arrowLeft %&apos;transformations&apos;" type="reporter" category="operators"><comment w="90" collapsed="false">Compose several transformations, by applying the last, then the second last, etc...</comment><header></header><code></code><translations></translations><inputs><input type="%mult%s"></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block s="reportListLength"><block var="transformations"/></block><l>1</l></block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="transformations"/></block></block></script><script><block s="doReport"><block s="reifyReporter"><autolambda><custom-block s="apply %repRing to %s"><block s="reportListItem"><l>1</l><block var="transformations"/></block><custom-block s="apply %repRing to %s"><custom-block s="composition $arrowLeft %mult%s"><block s="reportCDR"><block var="transformations"/></block></custom-block><l></l></custom-block></custom-block></autolambda><list></list></block></block></script></block></script></block-definition><block-definition s="origin" type="reporter" category="motion"><header></header><code></code><translations>fr:origine&#xD;</translations><inputs></inputs><script><block s="doReport"><custom-block s="point %s %s"><l>0</l><l>0</l></custom-block></block></script></block-definition><block-definition s="homothety %&apos;centre&apos; %&apos;ratio&apos;" type="reporter" category="motion"><comment w="90" collapsed="false">homothety p k creates a homothety of centre p and ratio k.</comment><header></header><code></code><translations>fr:homothétie _ _&#xD;</translations><inputs><input type="%s"></input><input type="%n"></input></inputs><script><block s="doReport"><block s="reifyScript"><script><block s="doDeclareVariables"><list><l>dx</l><l>dy</l></list></block><block s="doSetVar"><l>dx</l><block s="reportDifference"><custom-block s="x %s"><block var="pt"/></custom-block><custom-block s="x %s"><block var="centre"/></custom-block></block></block><block s="doSetVar"><l>dy</l><block s="reportDifference"><custom-block s="y %s"><block var="pt"/></custom-block><custom-block s="y %s"><block var="centre"/></custom-block></block></block><block s="doReport"><custom-block s="point %s %s"><block s="reportSum"><custom-block s="x %s"><block var="centre"/></custom-block><block s="reportProduct"><block var="dx"/><block var="ratio"/></block></block><block s="reportSum"><custom-block s="y %s"><block var="centre"/></custom-block><block s="reportProduct"><block var="dy"/><block var="ratio"/></block></block></custom-block></block></script><list><l>pt</l></list></block></block></script></block-definition><block-definition s="translation pt: %&apos;pt&apos;" type="reporter" category="motion"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="translation %n %n"><custom-block s="x %s"><block var="pt"/></custom-block><custom-block s="y %s"><block var="pt"/></custom-block></custom-block></block></script></block-definition><block-definition s="parallelogram pt: %&apos;p1&apos; pt: %&apos;p2&apos; pt: %&apos;p3&apos;" type="reporter" category="operators"><header></header><code></code><translations>fr:parallélogramme pt: _ pt: _ pt: _&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="polygon %mult%s"><list><block var="p1"/><block var="p2"/><custom-block s="apply %repRing to %s"><custom-block s="composition $arrowLeft %mult%s"><list><custom-block s="translation vec: %s"><custom-block s="vector %s %s"><block var="p1"/><block var="p2"/></custom-block></custom-block><custom-block s="translation vec: %s"><custom-block s="vector %s %s"><block var="p1"/><block var="p3"/></custom-block></custom-block></list></custom-block><block var="p1"/></custom-block><block var="p3"/></list></custom-block></block></script></block-definition><block-definition s="translation vec: %&apos;vec&apos;" type="reporter" category="motion"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><custom-block s="translation %n %n"><block s="reportDifference"><custom-block s="x %s"><custom-block s="end %s"><block var="vec"/></custom-block></custom-block><custom-block s="x %s"><custom-block s="start %s"><block var="vec"/></custom-block></custom-block></block><block s="reportDifference"><custom-block s="y %s"><custom-block s="end %s"><block var="vec"/></custom-block></custom-block><custom-block s="y %s"><custom-block s="start %s"><block var="vec"/></custom-block></custom-block></block></custom-block></block></script></block-definition><block-definition s="rotation around %&apos;centre&apos; by %&apos;θ&apos; °" type="reporter" category="motion"><header></header><code></code><translations>fr:rotation autour de _ de _ °&#xD;</translations><inputs><input type="%s"></input><input type="%n"></input></inputs><script><custom-block s="let %upvar = %s %cs"><l>rotate around origin</l><block s="reifyReporter"><autolambda><custom-block s="point %s %s"><block s="reportDifference"><block s="reportProduct"><custom-block s="x %s"><block var="pt"/></custom-block><block s="reportMonadic"><l><option>cos</option></l><block var="θ"/></block></block><block s="reportProduct"><custom-block s="y %s"><block var="pt"/></custom-block><block s="reportMonadic"><l><option>sin</option></l><block var="θ"/></block></block></block><block s="reportSum"><block s="reportProduct"><custom-block s="x %s"><block var="pt"/></custom-block><block s="reportMonadic"><l><option>sin</option></l><block var="θ"/></block></block><block s="reportProduct"><custom-block s="y %s"><block var="pt"/></custom-block><block s="reportMonadic"><l><option>cos</option></l><block var="θ"/></block></block></block></custom-block></autolambda><list><l>pt</l></list></block><script><block s="doReport"><block s="reifyReporter"><autolambda><custom-block s="apply %repRing to %s"><custom-block s="composition $arrowRight %mult%s"><list><custom-block s="translation vec: %s"><custom-block s="vector %s %s"><block var="centre"/><custom-block s="origin"></custom-block></custom-block></custom-block><block var="rotate around origin"/><custom-block s="translation pt: %s"><block var="centre"/></custom-block></list></custom-block><l></l></custom-block></autolambda><list></list></block></block></script></custom-block></script></block-definition><block-definition s="π" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><l>3.14159265359</l></block></script></block-definition><block-definition s="axes" type="reporter" category="pen"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="group %mult%s"><list><custom-block s="vector %s %s"><custom-block s="point %s %s"><l>0</l><l>180</l></custom-block><custom-block s="point %s %s"><l>0</l><l>-180</l></custom-block></custom-block><custom-block s="vector %s %s"><custom-block s="point %s %s"><l>-240</l><l>0</l></custom-block><custom-block s="point %s %s"><l>240</l><l>0</l></custom-block></custom-block></list></custom-block></block></script></block-definition><block-definition s="position souris" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><custom-block s="point %s %s"><block s="reportMouseX"></block><block s="reportMouseY"></block></custom-block></block></script></block-definition></blocks>